(()=>{var e={};e.id=125,e.ids=[125],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5896:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(7340),s(1506),s(5866);var i=s(3191),n=s(8716),r=s(7922),l=s.n(r),a=s(5231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);s.d(t,o);let d=["",{children:["mentor",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7340)),"C:\\Users\\mikej\\Desktop\\lab7-proof\\frontend\\reflections-app\\app\\mentor\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\mikej\\Desktop\\lab7-proof\\frontend\\reflections-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mikej\\Desktop\\lab7-proof\\frontend\\reflections-app\\app\\mentor\\page.tsx"],p="/mentor/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/mentor/page",pathname:"/mentor",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},166:()=>{},8997:(e,t,s)=>{Promise.resolve().then(s.bind(s,699))},9482:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var i=s(326),n=s(7577);let r=process.env.NEXT_PUBLIC_OAA_API_BASE;async function l(e,t){let s=await fetch(`${r}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!s.ok)throw Error(`${e} -> ${s.status}`);return s.json()}let a={verify:e=>l("/oaa/verify",{method:"POST",body:JSON.stringify(e)})};function o(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(Boolean)}function d(e,t){let s=new Map;Object.entries(e).forEach(([e,i])=>{let n=t[e]??0;n<=0||i.split(/(?<=[\.\?\!])\s+/g).map(e=>e.trim()).filter(Boolean).forEach(e=>{let t=e.trim();t&&s.set(t,(s.get(t)||0)+n)})});let i=[...s.entries()].sort((e,t)=>t[1]-e[1]||t[0].length-e[0].length).map(([e])=>e),n=[];return i.forEach(e=>{n.some(t=>(function(e,t){let s=new Set(o(e)),i=new Set(o(t));return new Set([...s].filter(e=>i.has(e))).size/(new Set([...s,...i]).size||1)})(t,e)>.85)||n.push(e)}),n.length>0&&(n.unshift("**Thesis:**"),n.push("\n**Examples:**\n- …\n- …"),n.push("\n**Takeaway:** …")),n.join(" ")}function c(){let[e,t]=(0,n.useState)("michael"),[s,r]=(0,n.useState)("michael"),[l,o]=(0,n.useState)(null),[c,O]=(0,n.useState)(!1),[R,E]=(0,n.useState)("Explain gravity to a teen."),[z,B]=(0,n.useState)(""),[M,q]=(0,n.useState)(!1),[D,I]=(0,n.useState)(null),[W,N]=(0,n.useState)(null),[G,$]=(0,n.useState)(null),[L,U]=(0,n.useState)({}),[F,H]=(0,n.useState)(!1),[J,X]=(0,n.useState)(["gemini","claude","deepseek","perplexity"]),[K,V]=(0,n.useState)({}),Y=(0,n.useRef)(!1),[Q,Z]=(0,n.useState)(!1),[ee,et]=(0,n.useState)({gemini:.25,claude:.25,deepseek:.25,perplexity:.25}),[es,ei]=(0,n.useState)(!1),[en,er]=(0,n.useState)(null),[el,ea]=(0,n.useState)(null),[eo,ed]=(0,n.useState)(null),[ec,ep]=(0,n.useState)(null),[eh,eu]=(0,n.useState)(""),ex=(0,n.useMemo)(()=>!!l&&!!s&&R.trim()&&z.trim(),[l,s,R,z]);async function ey(){try{q(!0),$(null);let e={attestation_id:`attest_${Date.now()}`,xp_awarded:Math.floor(50*Math.random())+10,level_before:1,level_after:2,reward_tx_id:`tx_${Date.now()}`,balance_after:150};I(e),N(t=>t?{...t,balance:e.balance_after||t.balance}:null)}catch(e){$(e.message??String(e))}finally{q(!1)}}async function eg(){if(l&&R.trim())try{H(!0),$(null);let e={gemini:"This is a mock response from Gemini about the topic.",claude:"Here's Claude's perspective on the subject matter.",deepseek:"DeepSeek provides this analysis of the question.",perplexity:"Perplexity offers this comprehensive answer."};U(e);let t=Object.keys(e);V(Object.fromEntries(t.map(e=>[e,!0])))}catch(e){$(e.message??String(e))}finally{H(!1)}}function ef(e){B(t=>t?t+"\n\n---\n"+e:e)}async function em(){if(l&&z.trim())try{ei(!0),$(null),er({rubric:{accuracy:4,depth:3,originality:4,integrity:5},critique:"This is a mock critique of your answer. The response shows good understanding of the topic with accurate information and demonstrates integrity in the approach."})}catch(e){$(e.message??String(e))}finally{ei(!1)}}let ej=async()=>{try{let e={statement:"hello",sig:"",pub:"",ts:new Date().toISOString()};ep(await a.verify(e))}catch(e){eu(e.message)}};return(0,i.jsxs)("div",{style:{maxWidth:1100,margin:"40px auto",padding:"0 20px",lineHeight:1.5},children:[i.jsx("h1",{children:"Lab7 — Online Apprenticeship Agent"}),i.jsx("p",{style:{marginTop:4,opacity:.85},children:i.jsx("em",{children:'"Initializing Lab7-proof (OAA) — Mentor–Apprentice Integrity Framework."'})}),(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"\uD83E\uDDE0 OAA Console"}),eh&&(0,i.jsxs)("div",{style:{color:"#b00020",marginBottom:12},children:["OAA Error: ",eh]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,i.jsxs)("div",{style:v,children:[i.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"Health"}),i.jsx("pre",{style:C,children:JSON.stringify(el,null,2)})]}),(0,i.jsxs)("div",{style:v,children:[i.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"Current Public Keys"}),i.jsx("pre",{style:C,children:JSON.stringify(eo,null,2)})]})]}),(0,i.jsxs)("div",{style:{marginTop:12},children:[i.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"Verify (sample)"}),i.jsx("button",{style:m,onClick:ej,children:"Run verify"}),ec&&i.jsx("pre",{style:{...C,marginTop:8},children:JSON.stringify(ec,null,2)})]})]}),(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"1) User"}),(0,i.jsxs)("div",{style:h,children:[i.jsx("label",{style:u,children:"Handle"}),i.jsx("input",{style:x,value:e,onChange:e=>{Y.current=!1,t(e.target.value),o(null),I(null),N(null),U({}),V({}),er(null)},placeholder:"your-handle"})]}),i.jsx("div",{style:{fontSize:14,opacity:.8,marginTop:8},children:c?"Starting session...":l?`Session: ${l}`:"No session yet"})]}),(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"2) Task"}),(0,i.jsxs)("div",{style:h,children:[i.jsx("label",{style:u,children:"Prompt"}),i.jsx("textarea",{style:y,rows:3,value:R,onChange:e=>E(e.target.value)})]}),(0,i.jsxs)("div",{style:{...h,marginTop:4},children:[i.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Mentors"}),i.jsx("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:["gemini","claude","deepseek","perplexity"].map(e=>(0,i.jsxs)("label",{style:P(J.includes(e)),children:[i.jsx("input",{type:"checkbox",checked:J.includes(e),onChange:()=>{X(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},style:{marginRight:6}}),e]},e))}),(0,i.jsxs)("div",{style:{display:"flex",gap:10,marginTop:10},children:[i.jsx("button",{style:f,disabled:!l||F||0===J.length,onClick:eg,children:F?"Getting drafts…":"Get Drafts"}),i.jsx("button",{style:m,disabled:0===Object.keys(L).length,onClick:function(){let e=Object.entries(K).filter(([e,t])=>t).map(([e])=>e);if(0===e.length)return;let t=Object.fromEntries(e.map(e=>[e,1]));ef(d(Object.fromEntries(e.map(e=>[e,L[e]])),t))},children:"Combine Selected → Answer"}),i.jsx("button",{style:j,disabled:0===Object.keys(L).length,onClick:function(){Z(!0)},children:"Synthesize (weights)"})]})]}),Object.keys(L).length>0&&(0,i.jsxs)("div",{style:{...v,marginTop:12},children:[i.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Drafts"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:Object.entries(L).map(([e,t])=>(0,i.jsxs)("div",{style:w,children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6},children:[i.jsx("input",{type:"checkbox",checked:!!K[e],onChange:()=>{V(t=>({...t,[e]:!t[e]}))}}),i.jsx("strong",{style:{textTransform:"capitalize"},children:e})]}),i.jsx("div",{style:{display:"flex",gap:8},children:i.jsx("button",{style:m,onClick:()=>ef(t),children:"Insert"})})]}),i.jsx("pre",{style:C,children:t})]},e))})]}),(0,i.jsxs)("div",{style:h,children:[i.jsx("label",{style:u,children:"Your Answer"}),i.jsx("textarea",{style:y,rows:10,value:z,onChange:e=>B(e.target.value)})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:10},children:[i.jsx("button",{style:g,disabled:!ex||M,onClick:ey,children:M?"Submitting…":"Submit for Rubric → XP → Attest → Reward"}),i.jsx("button",{style:m,disabled:!z.trim()||es,onClick:em,children:es?"Critiquing…":"Critique Answer"})]}),G&&(0,i.jsxs)("div",{style:{marginTop:12,color:"#b00020",whiteSpace:"pre-wrap"},children:[i.jsx("strong",{children:"Error:"})," ",G]})]}),en&&(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"Critique & Rubric"}),i.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:8},children:["accuracy","depth","originality","integrity"].map(e=>(0,i.jsxs)("div",{style:T,children:[(0,i.jsxs)("strong",{style:{textTransform:"capitalize"},children:[e,":"]})," ",en.rubric[e]," / 5"]},e))}),i.jsx("pre",{style:C,children:en.critique})]}),(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"3) Results"}),D?(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,i.jsxs)("div",{style:v,children:[(0,i.jsxs)("div",{style:S,children:[i.jsx("span",{children:"XP Awarded"}),i.jsx("strong",{children:D.xp_awarded})]}),(0,i.jsxs)("div",{style:S,children:[i.jsx("span",{children:"Level"}),(0,i.jsxs)("strong",{children:[D.level_before," → ",D.level_after]})]}),(0,i.jsxs)("div",{style:S,children:[i.jsx("span",{children:"Attestation"}),i.jsx("code",{style:k,children:D.attestation_id})]})]}),(0,i.jsxs)("div",{style:v,children:[(0,i.jsxs)("div",{style:S,children:[i.jsx("span",{children:"Reward Tx"}),i.jsx("code",{style:k,children:D.reward_tx_id??"—"})]}),(0,i.jsxs)("div",{style:S,children:[i.jsx("span",{children:"Balance After"}),i.jsx("strong",{children:D.balance_after??"—"})]})]})]}):i.jsx("div",{style:{opacity:.7},children:"No submission yet."})]}),(0,i.jsxs)("section",{style:p,children:[i.jsx("h3",{style:b,children:"4) Wallet"}),W?(0,i.jsxs)("div",{style:{display:"flex",gap:24,flexWrap:"wrap"},children:[(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Wallet:"})," ",i.jsx("code",{style:k,children:W.wallet})]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Balance:"})," ",W.balance]})]}):i.jsx("div",{style:{opacity:.7},children:"No balance yet."})]}),Q&&i.jsx("div",{style:_,children:(0,i.jsxs)("div",{style:A,children:[i.jsx("h3",{style:{marginTop:0},children:"Synthesize (weights)"}),i.jsx("p",{style:{marginTop:-6,opacity:.8},children:"Adjust mentor weights (sum doesn't need to be 1; we normalize internally)."}),Object.keys(L).map(e=>(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr 50px",gap:10,alignItems:"center",marginBottom:8},children:[i.jsx("div",{style:{textTransform:"capitalize"},children:e}),i.jsx("input",{type:"range",min:0,max:100,step:5,value:(ee[e]??0)*100,onChange:t=>et(s=>({...s,[e]:Number(t.target.value)/100}))}),(0,i.jsxs)("div",{children:[Math.round((ee[e]??0)*100),"%"]})]},e)),(0,i.jsxs)("div",{style:{display:"flex",gap:10,marginTop:12},children:[i.jsx("button",{style:g,onClick:function(){let e=Object.keys(L).filter(e=>(ee[e]??0)>0);if(0===e.length)return Z(!1);let t={};e.forEach(e=>{t[e]=L[e]}),ef(d(t,ee)),Z(!1)},children:"Apply"}),i.jsx("button",{style:j,onClick:()=>Z(!1),children:"Cancel"})]})]})}),i.jsx("footer",{style:{marginTop:32,opacity:.7,fontSize:13},children:"Powered by OAA Orchestrator ↔ Rubric ↔ Citizen Shield ↔ GIC Indexer."})]})}let p={border:"1px solid #e5e7eb",borderRadius:12,padding:16,marginTop:16,background:"#fff"},h={display:"flex",flexDirection:"column",gap:8,marginBottom:12},u={fontWeight:600},x={padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:8,fontSize:14},y={...x,minHeight:120},g={padding:"10px 14px",borderRadius:8,border:"1px solid #111827",background:"#111827",color:"#fff",fontWeight:600,cursor:"pointer"},f={...g,background:"#ffffff",color:"#111827",borderColor:"#111827"},m={padding:"6px 10px",borderRadius:8,border:"1px solid #111827",background:"#111827",color:"#fff",fontWeight:600,cursor:"pointer",fontSize:12},j={padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"#fff",color:"#111827",cursor:"pointer",fontSize:12},b={marginTop:0,marginBottom:12},v={border:"1px solid #e5e7eb",borderRadius:10,padding:12},S={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px dashed #eee"},k={background:"#f3f4f6",padding:"2px 6px",borderRadius:6,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",fontSize:12},w={border:"1px solid #e5e7eb",borderRadius:8,padding:10,background:"#fafafa"},C={whiteSpace:"pre-wrap",fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",fontSize:12},T={border:"1px solid #e5e7eb",borderRadius:999,padding:"4px 10px",fontSize:12,background:"#f8fafc"},_={position:"fixed",inset:0,background:"rgba(0,0,0,0.25)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},A={background:"#fff",borderRadius:12,padding:18,width:"min(680px, 92vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},P=e=>({border:"1px solid #d1d5db",borderRadius:999,padding:"6px 10px",background:e?"#111827":"#fff",color:e?"#fff":"#111827",cursor:"pointer"})},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r,metadata:()=>n});var i=s(9510);s(7272);let n={title:"Lab7 OAA Console",description:"Open Attestation Authority - STEM Apprenticeship Engine"};function r({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{children:e})})}},7340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8570).createProxy)(String.raw`C:\Users\mikej\Desktop\lab7-proof\frontend\reflections-app\app\mentor\page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[276,471],()=>s(5896));module.exports=i})();